pipeline {
  agent any

  stages {
    stage('version') {
      steps {
        sh 'python3 --version'
      }
    }

    stage('getinfo') {
      steps {
        // Run the Python script using the Anaconda Python interpreter
        sh '/Users/manasvidhankani/opt/anaconda3/bin/python test.py'
      }
    }
  }

  post {
    failure {
      script {
        def jira = jiraNewIssue(
          issueType: 'Bug',
          projectKey: 'JT-1',
          summary: "Build Failure: python-testtt",
          description: "A build failure occurred in python-testtt.\nError message: Stage '${env.STAGE_NAME}' failed with error: ${env.ERROR_MESSAGE}",
          assignee: 'manasvid',
          components: 'Component1,Component2'
        )
        echo "Created Jira issue: JT-1"
      }
    }
  }
}
